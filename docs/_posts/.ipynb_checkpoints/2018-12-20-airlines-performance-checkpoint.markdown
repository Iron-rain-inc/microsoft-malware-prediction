---
layout: post
title:  "US Airline Performance!"
date:   2018-12-02 21:42:53 +1100
categories: jekyll update
---
![airplane](../../../../../assets/airplane.png)

### Intro 
This blog post will cover an anslysis of US airline performance data. The goal of this analysis is to provide data to a domestic US airline booking agency to increase their business success.<br><br>
An accompanying notebook can be found at https://github.com/Iron-rain-inc/airline-data-blog.

### Questions
The following questions have been put forward and will be addressed here: 
1. Which day of the week is the worst day for flight arrival delays? 

2. Is there a period throughout the year where arrival delays are higher than average?

3. Which flight routes have the most arrival delay?

4. Which airline is the most reliable?

5. What is the leading cause for arrival delay in airlines?


### Data Understanding
In order to answer the business's questions a dataset containing the flight records for a number of US carriers in 2008 was provided. 

Prior to using the dataset for any analysis we need to understand what data is included. 

The data provided within the dataset includes; Year, Month, DayofMonth, DayOfWeek, DepTime, CRSDepTime, ArrTime, CRSArrTime, UniqueCarrier, FlightNum, TailNum, ActualElapsedTime, CRSElapsedTime, AirTime, ArrDelay, DepDelay, Origin, Dest, Distance, TaxiIn, TaxiOut, Cancelled, CancellationCode, Diverted, CarrierDelay, WeatherDelay, NASDelay, SecurityDelay, LateAircraftDelay.

Through identifying the data included it was determined that there is not enough data to proivde a complete answers to all the questions and a second dataset was obtained. 

The second dataset contains the geo-locations of each airport included in the initial dataset and will be used for plotting airport locations on a map. 

### Data Preparation
Post our comprehension of the data it is time to clean it for analytical use and possible future modeling. 

There were a number of columns that provide us no value; Year, FlightNum, TailNum, TaxiIn, TaxiOut, Cancelled, CancellationCode & Diverted.
The contents of theses columns are checked just to make sure they offer no additional value and then dropped. The reasoning behind this is contained within the partnered Notebook.

The next step is to identify an 'Not A Number' records, all NaN values were isolated to the Delay causes and as this data will be used in identifying delay causes it requires dropping. This can be seen in the graph below.

![nan_values](../../../../../assets/nan_values.png)

Back or forward filling is not an option here as delay causes are specific to each and every unique flight. 

Lastly in the preparation of our data, the categorical or object data needs to be discovered and re-mapped as needed. 

The first field, UniqueCarrier, identifies every airline, this is mapped to a dictionary and transformed into numerical values. This transformed field can be transformed back at any time. 

The remaining fields are Origin and Destination, rather than map and convert these directly a route has been created, a route having an origin and destination. 
The new format is Origin-Dest and once mapped provided 5,086 unique routes. 

The data is now clean and ready for our analysis. 

### Best Time and Routes to Fly!
The first question to solve is the delay by day, the process to calculate the results below was to gather the mean of each day of the week over the dataset. 

![delay_by_day](../../../../../assets/delay_by_day.png)

As seen in the plot above the worst day of the week to fly is a Sunday! With the best being a Wednesday. It is worth noting that the there is only a five minute difference between Sunday and Wednesday.


The next question is processed the same as the delay by day, we are looking at each month of the year in this case.

![delay_by_month](../../../../../assets/delay_by_month.png)

The plotted results above show that peak delay periods in the year are during the Summer and Winter seasons, both are periods of holiday in the United States and this may be a contributing factor. 
Spring is the best time to fly with the lowest average delay, closely followed by Spring. 

Taking a brief look at the route data it is revealed that the shortest delay on average is approximately 30 minutes and the longest delay on average is approximately 95 minutes. 

As part of the initial investigation the geograhic location of the least and most delayed routes was plotted. 

![routes_map](../../../../../assets/routes_map.png)

The plot above is a look at the 20 least and 20 most delayed routes, there is enough of an East/West split in this data to merit further investigation on geographic reasons for delay. This is not covered as part of this notebook.

### Airline Reliability and Delay Cause!

Airline reliability, in this case, is the measure of an airlines average delays. This query is similar to queries performed to find delay by weekday and months throughout the year. 

Order | Carrier | Carrier Delay | Weather Delay | NAS Delay | Security Delay | Late Aircraft Delay | Total Delay
|-------|--------|---------|-------|--------|---------|--------|---------|
1 | AQ | 19.51 | 1.70 | 0.28 | 0.10 | 15.68 | 37.29
2 | HA | 22.82 | 0.40 | 0.08 | 0.00 | 20.73 | 44.05
3 | F9 | 15.28 | 1.17 | 16.51 | 0.02 | 11.79 | 44.80
4 | WN | 10.82 | 2.44 | 6.52 | 0.12 | 32.56 | 52.48
5 | AS | 20.61 | 1.38 | 11.45 | 0.20 | 23.00 | 56.67
6 | US | 17.40 | 1.62 | 16.78 | 0.16 | 23.28 | 59.27
7 | NW | 23.93 | 6.52 | 14.18 | 0.06 | 14.79 | 59.50
8 | DL | 19.23 | 2.29 | 17.59 | 0.01 | 22.01 | 61.16
9 | MQ | 16.68 | 4.03 | 15.82 | 0.01 | 26.75 | 63.30
10 | FL | 9.28 | 0.76 | 16.17 | 0.00 | 37.14 | 63.37
11 | 9E | 22.59 | 3.70 | 14.74 | 0.04 | 24.02 | 65.11
12 | AA | 20.66 | 3.13 | 16.54 | 0.04 | 24.91 | 65.31
13 | EV | 29.60 | 9.38 | 15.46 | 0.05 | 11.64 | 66.15
14 | CO | 16.27 | 3.35 | 27.42 | 0.20 | 20.73 | 67.98
15 | OO | 17.21 | 2.64 | 21.96 | 0.10 | 26.27 | 68.20
16 | UA | 17.45 | 2.21 | 16.00 | 0.01 | 33.87 | 69.56
17 | OH | 26.07 | 18.43 | 22.30 | 0.03 | 4.42 | 71.27
18 | XE | 15.68 | 3.26 | 27.03 | 0.16 | 26.66 | 72.82
19 | YV | 36.08 | 3.54 | 16.10 | 0.17 | 17.76 | 73.67
20 | B6 | 16.59 | 1.54 | 29.44 | 0.04 | 33.38 | 81.02

The above table shows the least to most delay by airline, to answer the final question regarding delay causes we can use the above table.

The above data shows that late aircraft are the primary cause for delays, followed by airline and national airspace. Weather delay and security delays account for the minority of delays.

### Conclusion

In conclusion all questions posed have been answered and the dataset is in a format that would be usable for a model. Modelling the cleaned data could allow the prediction of best travel routes and times to fly throughout the year. 
